@using MatchFixer.Core.ViewModels.MatchResults
@model List<MatchResultInputViewModel>

@{
	ViewData["Title"] = "Add Results";
}

@if (TempData["SuccessMessage"] != null)
{
	<div class="alert alert-success">@TempData["SuccessMessage"]</div>
}

@if (TempData["ErrorMessage"] != null)
{
	<div class="alert alert-danger">@TempData["ErrorMessage"]</div>
}

<div class="background-profile"></div>


<div class="container py-4">
	<div class="row g-4">
		@foreach (var match in Model)
		{
			<div class="col-12 col-md-6 col-lg-4">
				<div class="card shadow-sm h-100">
					<div class="card-body">
						<form asp-action="SubmitResult" asp-controller="Result" method="post" id="add-scores-card">
							@Html.AntiForgeryToken()

							<input type="hidden" name="MatchId" value="@match.MatchId" />
							<input type="hidden" name="HomeTeam" value="@match.HomeTeam" />
							<input type="hidden" name="AwayTeam" value="@match.AwayTeam" />

							<h5 class="card-title text-center">@match.HomeTeam vs @match.AwayTeam</h5>
							<p class="card-subtitle mb-3 text-muted text-center"><strong>Date:</strong> @match.MatchDate.ToString("g")</p>

							<div class="mb-3 text-center">
								<label asp-for="@match.HomeScore" class="form-label text-center">Home Score</label>
								<input asp-for="@match.HomeScore" name="HomeScore" class="form-control" />
							</div>

							<div class="mb-3 text-center">
								<label asp-for="@match.AwayScore" class="form-label text-center">Away Score</label>
								<input asp-for="@match.AwayScore" name="AwayScore" class="form-control" />
							</div>

							<div class="mb-3 text-center">
								<label asp-for="@match.Notes" class="form-label text-center">Notes (optional)</label>
								<textarea asp-for="@match.Notes" name="Notes" class="form-control" rows="2"></textarea>
							</div>

							<button type="submit" class="btn btn-primary">Submit Result</button>
						</form>
					</div>
				</div>
			</div>
		}
	</div>
</div>