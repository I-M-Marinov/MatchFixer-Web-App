@using MatchFixer.Core.ViewModels.MatchGuessGame
@model MatchGuessGameViewModel

@if (Model.IsAnswered)
{
	<div class="alert alert-info mt-3 position-relative" id="answer-result">
		<span id="countdown" class="position-absolute top-0 end-0 badge bg-secondary m-2">5</span>

		@if (Model.IsCorrect == true)
		{
			<strong>Correct!</strong>
			<p>You earned 10 points.</p>
		}
		else
		{
			<strong>Incorrect.</strong>
			<p>
				The actual score was:
				<strong>@Model.HomeTeam</strong> @Model.ActualHomeScore -
				@Model.ActualAwayScore <strong>@Model.AwayTeam</strong>.
			</p>
		}
	</div>

	<form id="nextQuestionForm" method="get" asp-action="Start">
		
	</form>

	<script>
        let seconds = 5;
        const countdown = document.getElementById('countdown');
        const interval = setInterval(() => {
            seconds--;
            countdown.textContent = seconds;
            if (seconds <= 0) {
                clearInterval(interval);
            }
        }, 1000);

        setTimeout(() => {
            document.getElementById('nextQuestionForm').submit();
        }, 5000); // Wait 5 seconds before moving to the next question
    </script>
}